import{_ as f,r,h as v,c as u,o as i,a,i as d,k as w,v as p,t as b,j as g,q as h,s as x}from"./dX-0TnA8.js";const y={class:"max-w-md mx-auto p-4 mt-10 border rounded-xl shadow"},k={key:0,class:"text-red-600 mt-2"},B={__name:"AdminLogin",setup(m){const s=r(""),o=r(""),n=r(""),c=v();async function _(){n.value="";try{const t=await fetch(`${h().public.apiBase}/api/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.value,password:o.value})});if(!t.ok)throw new Error("Invalid credentials");const{token:e}=await t.json();localStorage.setItem("auth_token",e),c.push("/admin/dashboard")}catch(t){n.value=t.message}}return(t,e)=>(i(),u("div",y,[e[3]||(e[3]=a("h2",{class:"text-xl font-bold mb-4"},"🔐 Admin Login",-1)),a("form",{onSubmit:g(_,["prevent"])},[d(a("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>s.value=l),type:"email",placeholder:"Email",class:"input mb-2 w-full"},null,512),[[p,s.value]]),d(a("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>o.value=l),type:"password",placeholder:"Password",class:"input mb-4 w-full"},null,512),[[p,o.value]]),e[2]||(e[2]=a("button",{type:"submit",class:"btn w-full"},"Login",-1)),n.value?(i(),u("p",k,b(n.value),1)):w("",!0)],32)]))}},S=f(B,[["__scopeId","data-v-0548590a"]]),V={__name:"login",setup(m){return(s,o)=>(i(),x(S))}};export{V as default};
