import{h as V,r,E as k,L,J as N,c as u,a as s,g as p,i as h,I as O,F as _,z as w,v as g,B as M,t as f,o as d}from"./CGVLzoYz.js";const j={class:"p-6"},z=["value"],B={key:0},I={class:"mb-4 max-h-96 overflow-y-auto border rounded bg-white dark:bg-zinc-900"},T={class:"w-1/3 font-mono text-xs text-gray-600"},U=["onUpdate:modelValue"],D=V({__name:"translations",setup(E){const y=["en","fr","es","it","ko","zh"],i=r("en"),m=r(null),n=r({}),a=r(""),l=r(!0),c=r(""),S=k(()=>{if(!m.value)return{};if(!c.value)return n.value;const o=c.value.toLowerCase();return Object.fromEntries(Object.entries(n.value).filter(([t,e])=>t.toLowerCase().includes(o)||e.toLowerCase().includes(o)))});async function b(o){try{const e=await(await fetch(`/i18n/locales/${o}.json`)).json();m.value=e,n.value={...e},a.value="",l.value=!0}catch{a.value="Failed to load translations.",l.value=!1}}function x(){try{JSON.stringify(n.value),l.value=!0,a.value="Valid JSON."}catch{l.value=!1,a.value="Invalid JSON."}}async function C(){if(x(),!l.value){a.value="Cannot save: Invalid JSON.";return}a.value="Saved (simulation only)."}return L(i,b),N(()=>b(i.value)),(o,t)=>(d(),u("div",j,[t[2]||(t[2]=s("h1",{class:"text-2xl font-bold mb-4"},"🌐 Translation Manager",-1)),p(s("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),class:"mb-4 p-2 border rounded"},[(d(),u(_,null,w(y,e=>s("option",{key:e,value:e},f(e),9,z)),64))],512),[[O,i.value]]),p(s("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>c.value=e),placeholder:"Search key...",class:"mb-4 p-2 border rounded w-full"},null,512),[[g,c.value]]),m.value?(d(),u("div",B,[s("div",I,[(d(!0),u(_,null,w(S.value,(e,v)=>(d(),u("div",{key:v,class:"flex items-center border-b last:border-b-0 p-2"},[s("span",T,f(v),1),p(s("input",{"onUpdate:modelValue":J=>n.value[v]=J,class:"w-2/3 p-1 border rounded text-xs font-mono",onInput:x},null,40,U),[[g,n.value[v]]])]))),128))]),s("button",{onClick:C,class:"mt-4 px-4 py-2 bg-blue-600 text-white rounded"},"💾 Save"),a.value?(d(),u("p",{key:0,class:M(["mt-2 text-sm",{"text-green-600":l.value,"text-red-600":!l.value}])},f(a.value),3)):h("",!0)])):h("",!0)]))}});export{D as default};
