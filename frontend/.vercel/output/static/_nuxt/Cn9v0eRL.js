import{g as x,C as w,r,I as y,c as u,a as e,k,t as p,m as a,i as c,v as m,A as v,o as g}from"./Ddirn40s.js";const P={class:"p-6"},_={class:"text-2xl font-bold mb-4"},M={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},$={key:0,class:"mt-4 text-sm text-gray-500"},O=x({__name:"[slug]",setup(C){const n=w().params.slug,l=r(""),d=r(""),o=r("");y(async()=>{const i=`/content/${n}.en.md`,t=`/content-improved/${n}.en.md`;try{l.value=await $fetch(i),d.value=await $fetch(t)}catch(s){console.warn("Failed to load content:",s)}});async function b(){o.value="Improving...",await $fetch("/improve",{method:"POST",body:{slug:n,lang:"en"}}),o.value="Improved! Reload page to see updates."}async function h(){o.value="Approving...",await $fetch("/approve",{method:"POST",body:{slug:n,lang:"en"}}),o.value="Approved!"}async function f(){o.value="Publishing...",await $fetch("/publish",{method:"POST",body:{slug:n,lang:"en"}}),o.value="Published!"}return(i,t)=>(g(),u("div",P,[e("h1",_,"ðŸ“ Reviewing: "+p(a(n)),1),e("div",M,[e("div",null,[t[2]||(t[2]=e("h2",{class:"font-semibold mb-2"},"ðŸ“„ Original Markdown",-1)),c(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=s=>v(l)?l.value=s:null),class:"w-full h-96 p-2 border rounded text-sm font-mono bg-white dark:bg-zinc-900",readonly:""},null,512),[[m,a(l)]])]),e("div",null,[t[3]||(t[3]=e("h2",{class:"font-semibold mb-2"},"âœ¨ Improved Markdown",-1)),c(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=s=>v(d)?d.value=s:null),class:"w-full h-96 p-2 border rounded text-sm font-mono bg-white dark:bg-zinc-900",readonly:""},null,512),[[m,a(d)]])])]),e("div",{class:"flex gap-4 mt-6"},[e("button",{onClick:b,class:"px-4 py-2 bg-blue-600 text-white rounded"},"ðŸ¤– Improve"),e("button",{onClick:h,class:"px-4 py-2 bg-green-600 text-white rounded"},"âœ… Approve"),e("button",{onClick:f,class:"px-4 py-2 bg-purple-600 text-white rounded"},"ðŸš€ Publish")]),a(o)?(g(),u("p",$,p(a(o)),1)):k("",!0)]))}});export{O as default};
