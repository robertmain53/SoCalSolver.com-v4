import{C as U,n as H,J as F,K as $,c as L,a as T,F as z,p as V,o as N,i as Q,t as j,v as J,m as C}from"./Ddirn40s.js";import{u as K}from"./VBQ_BT3J.js";import"./4MasYOz4.js";import"./CabjmStu.js";var B={exports:{}},O;function X(){return O||(O=1,function(R){var f=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},m=-1,p=1,_=0;f.Diff=function(r,n){return[r,n]},f.prototype.diff_main=function(r,n,e,i){typeof i>"u"&&(this.Diff_Timeout<=0?i=Number.MAX_VALUE:i=new Date().getTime()+this.Diff_Timeout*1e3);var t=i;if(r==null||n==null)throw new Error("Null input. (diff_main)");if(r==n)return r?[new f.Diff(_,r)]:[];typeof e>"u"&&(e=!0);var a=e,s=this.diff_commonPrefix(r,n),l=r.substring(0,s);r=r.substring(s),n=n.substring(s),s=this.diff_commonSuffix(r,n);var h=r.substring(r.length-s);r=r.substring(0,r.length-s),n=n.substring(0,n.length-s);var g=this.diff_compute_(r,n,a,t);return l&&g.unshift(new f.Diff(_,l)),h&&g.push(new f.Diff(_,h)),this.diff_cleanupMerge(g),g},f.prototype.diff_compute_=function(r,n,e,i){var t;if(!r)return[new f.Diff(p,n)];if(!n)return[new f.Diff(m,r)];var a=r.length>n.length?r:n,s=r.length>n.length?n:r,l=a.indexOf(s);if(l!=-1)return t=[new f.Diff(p,a.substring(0,l)),new f.Diff(_,s),new f.Diff(p,a.substring(l+s.length))],r.length>n.length&&(t[0][0]=t[2][0]=m),t;if(s.length==1)return[new f.Diff(m,r),new f.Diff(p,n)];var h=this.diff_halfMatch_(r,n);if(h){var g=h[0],u=h[1],o=h[2],v=h[3],c=h[4],b=this.diff_main(g,o,e,i),M=this.diff_main(u,v,e,i);return b.concat([new f.Diff(_,c)],M)}return e&&r.length>100&&n.length>100?this.diff_lineMode_(r,n,i):this.diff_bisect_(r,n,i)},f.prototype.diff_lineMode_=function(r,n,e){var i=this.diff_linesToChars_(r,n);r=i.chars1,n=i.chars2;var t=i.lineArray,a=this.diff_main(r,n,!1,e);this.diff_charsToLines_(a,t),this.diff_cleanupSemantic(a),a.push(new f.Diff(_,""));for(var s=0,l=0,h=0,g="",u="";s<a.length;){switch(a[s][0]){case p:h++,u+=a[s][1];break;case m:l++,g+=a[s][1];break;case _:if(l>=1&&h>=1){a.splice(s-l-h,l+h),s=s-l-h;for(var o=this.diff_main(g,u,!1,e),v=o.length-1;v>=0;v--)a.splice(s,0,o[v]);s=s+o.length}h=0,l=0,g="",u="";break}s++}return a.pop(),a},f.prototype.diff_bisect_=function(r,n,e){for(var i=r.length,t=n.length,a=Math.ceil((i+t)/2),s=a,l=2*a,h=new Array(l),g=new Array(l),u=0;u<l;u++)h[u]=-1,g[u]=-1;h[s+1]=0,g[s+1]=0;for(var o=i-t,v=o%2!=0,c=0,b=0,M=0,k=0,w=0;w<a&&!(new Date().getTime()>e);w++){for(var D=-w+c;D<=w-b;D+=2){var d=s+D,A;D==-w||D!=w&&h[d-1]<h[d+1]?A=h[d+1]:A=h[d-1]+1;for(var E=A-D;A<i&&E<t&&r.charAt(A)==n.charAt(E);)A++,E++;if(h[d]=A,A>i)b+=2;else if(E>t)c+=2;else if(v){var P=s+o-D;if(P>=0&&P<l&&g[P]!=-1){var y=i-g[P];if(A>=y)return this.diff_bisectSplit_(r,n,A,E,e)}}}for(var S=-w+M;S<=w-k;S+=2){var P=s+S,y;S==-w||S!=w&&g[P-1]<g[P+1]?y=g[P+1]:y=g[P-1]+1;for(var I=y-S;y<i&&I<t&&r.charAt(i-y-1)==n.charAt(t-I-1);)y++,I++;if(g[P]=y,y>i)k+=2;else if(I>t)M+=2;else if(!v){var d=s+o-S;if(d>=0&&d<l&&h[d]!=-1){var A=h[d],E=s+A-d;if(y=i-y,A>=y)return this.diff_bisectSplit_(r,n,A,E,e)}}}}return[new f.Diff(m,r),new f.Diff(p,n)]},f.prototype.diff_bisectSplit_=function(r,n,e,i,t){var a=r.substring(0,e),s=n.substring(0,i),l=r.substring(e),h=n.substring(i),g=this.diff_main(a,s,!1,t),u=this.diff_main(l,h,!1,t);return g.concat(u)},f.prototype.diff_linesToChars_=function(r,n){var e=[],i={};e[0]="";function t(h){for(var g="",u=0,o=-1,v=e.length;o<h.length-1;){o=h.indexOf(`
`,u),o==-1&&(o=h.length-1);var c=h.substring(u,o+1);(i.hasOwnProperty?i.hasOwnProperty(c):i[c]!==void 0)?g+=String.fromCharCode(i[c]):(v==a&&(c=h.substring(u),o=h.length),g+=String.fromCharCode(v),i[c]=v,e[v++]=c),u=o+1}return g}var a=4e4,s=t(r);a=65535;var l=t(n);return{chars1:s,chars2:l,lineArray:e}},f.prototype.diff_charsToLines_=function(r,n){for(var e=0;e<r.length;e++){for(var i=r[e][1],t=[],a=0;a<i.length;a++)t[a]=n[i.charCodeAt(a)];r[e][1]=t.join("")}},f.prototype.diff_commonPrefix=function(r,n){if(!r||!n||r.charAt(0)!=n.charAt(0))return 0;for(var e=0,i=Math.min(r.length,n.length),t=i,a=0;e<t;)r.substring(a,t)==n.substring(a,t)?(e=t,a=e):i=t,t=Math.floor((i-e)/2+e);return t},f.prototype.diff_commonSuffix=function(r,n){if(!r||!n||r.charAt(r.length-1)!=n.charAt(n.length-1))return 0;for(var e=0,i=Math.min(r.length,n.length),t=i,a=0;e<t;)r.substring(r.length-t,r.length-a)==n.substring(n.length-t,n.length-a)?(e=t,a=e):i=t,t=Math.floor((i-e)/2+e);return t},f.prototype.diff_commonOverlap_=function(r,n){var e=r.length,i=n.length;if(e==0||i==0)return 0;e>i?r=r.substring(e-i):e<i&&(n=n.substring(0,e));var t=Math.min(e,i);if(r==n)return t;for(var a=0,s=1;;){var l=r.substring(t-s),h=n.indexOf(l);if(h==-1)return a;s+=h,(h==0||r.substring(t-s)==n.substring(0,s))&&(a=s,s++)}},f.prototype.diff_halfMatch_=function(r,n){if(this.Diff_Timeout<=0)return null;var e=r.length>n.length?r:n,i=r.length>n.length?n:r;if(e.length<4||i.length*2<e.length)return null;var t=this;function a(b,M,k){for(var w=b.substring(k,k+Math.floor(b.length/4)),D=-1,d="",A,E,P,y;(D=M.indexOf(w,D+1))!=-1;){var S=t.diff_commonPrefix(b.substring(k),M.substring(D)),I=t.diff_commonSuffix(b.substring(0,k),M.substring(0,D));d.length<I+S&&(d=M.substring(D-I,D)+M.substring(D,D+S),A=b.substring(0,k-I),E=b.substring(k+S),P=M.substring(0,D-I),y=M.substring(D+S))}return d.length*2>=b.length?[A,E,P,y,d]:null}var s=a(e,i,Math.ceil(e.length/4)),l=a(e,i,Math.ceil(e.length/2)),h;if(!s&&!l)return null;l?s?h=s[4].length>l[4].length?s:l:h=l:h=s;var g,u,o,v;r.length>n.length?(g=h[0],u=h[1],o=h[2],v=h[3]):(o=h[0],v=h[1],g=h[2],u=h[3]);var c=h[4];return[g,u,o,v,c]},f.prototype.diff_cleanupSemantic=function(r){for(var n=!1,e=[],i=0,t=null,a=0,s=0,l=0,h=0,g=0;a<r.length;)r[a][0]==_?(e[i++]=a,s=h,l=g,h=0,g=0,t=r[a][1]):(r[a][0]==p?h+=r[a][1].length:g+=r[a][1].length,t&&t.length<=Math.max(s,l)&&t.length<=Math.max(h,g)&&(r.splice(e[i-1],0,new f.Diff(m,t)),r[e[i-1]+1][0]=p,i--,i--,a=i>0?e[i-1]:-1,s=0,l=0,h=0,g=0,t=null,n=!0)),a++;for(n&&this.diff_cleanupMerge(r),this.diff_cleanupSemanticLossless(r),a=1;a<r.length;){if(r[a-1][0]==m&&r[a][0]==p){var u=r[a-1][1],o=r[a][1],v=this.diff_commonOverlap_(u,o),c=this.diff_commonOverlap_(o,u);v>=c?(v>=u.length/2||v>=o.length/2)&&(r.splice(a,0,new f.Diff(_,o.substring(0,v))),r[a-1][1]=u.substring(0,u.length-v),r[a+1][1]=o.substring(v),a++):(c>=u.length/2||c>=o.length/2)&&(r.splice(a,0,new f.Diff(_,u.substring(0,c))),r[a-1][0]=p,r[a-1][1]=o.substring(0,o.length-c),r[a+1][0]=m,r[a+1][1]=u.substring(c),a++),a++}a++}},f.prototype.diff_cleanupSemanticLossless=function(r){function n(c,b){if(!c||!b)return 6;var M=c.charAt(c.length-1),k=b.charAt(0),w=M.match(f.nonAlphaNumericRegex_),D=k.match(f.nonAlphaNumericRegex_),d=w&&M.match(f.whitespaceRegex_),A=D&&k.match(f.whitespaceRegex_),E=d&&M.match(f.linebreakRegex_),P=A&&k.match(f.linebreakRegex_),y=E&&c.match(f.blanklineEndRegex_),S=P&&b.match(f.blanklineStartRegex_);return y||S?5:E||P?4:w&&!d&&A?3:d||A?2:w||D?1:0}for(var e=1;e<r.length-1;){if(r[e-1][0]==_&&r[e+1][0]==_){var i=r[e-1][1],t=r[e][1],a=r[e+1][1],s=this.diff_commonSuffix(i,t);if(s){var l=t.substring(t.length-s);i=i.substring(0,i.length-s),t=l+t.substring(0,t.length-s),a=l+a}for(var h=i,g=t,u=a,o=n(i,t)+n(t,a);t.charAt(0)===a.charAt(0);){i+=t.charAt(0),t=t.substring(1)+a.charAt(0),a=a.substring(1);var v=n(i,t)+n(t,a);v>=o&&(o=v,h=i,g=t,u=a)}r[e-1][1]!=h&&(h?r[e-1][1]=h:(r.splice(e-1,1),e--),r[e][1]=g,u?r[e+1][1]=u:(r.splice(e+1,1),e--))}e++}},f.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,f.whitespaceRegex_=/\s/,f.linebreakRegex_=/[\r\n]/,f.blanklineEndRegex_=/\n\r?\n$/,f.blanklineStartRegex_=/^\r?\n\r?\n/,f.prototype.diff_cleanupEfficiency=function(r){for(var n=!1,e=[],i=0,t=null,a=0,s=!1,l=!1,h=!1,g=!1;a<r.length;)r[a][0]==_?(r[a][1].length<this.Diff_EditCost&&(h||g)?(e[i++]=a,s=h,l=g,t=r[a][1]):(i=0,t=null),h=g=!1):(r[a][0]==m?g=!0:h=!0,t&&(s&&l&&h&&g||t.length<this.Diff_EditCost/2&&s+l+h+g==3)&&(r.splice(e[i-1],0,new f.Diff(m,t)),r[e[i-1]+1][0]=p,i--,t=null,s&&l?(h=g=!0,i=0):(i--,a=i>0?e[i-1]:-1,h=g=!1),n=!0)),a++;n&&this.diff_cleanupMerge(r)},f.prototype.diff_cleanupMerge=function(r){r.push(new f.Diff(_,""));for(var n=0,e=0,i=0,t="",a="",s;n<r.length;)switch(r[n][0]){case p:i++,a+=r[n][1],n++;break;case m:e++,t+=r[n][1],n++;break;case _:e+i>1?(e!==0&&i!==0&&(s=this.diff_commonPrefix(a,t),s!==0&&(n-e-i>0&&r[n-e-i-1][0]==_?r[n-e-i-1][1]+=a.substring(0,s):(r.splice(0,0,new f.Diff(_,a.substring(0,s))),n++),a=a.substring(s),t=t.substring(s)),s=this.diff_commonSuffix(a,t),s!==0&&(r[n][1]=a.substring(a.length-s)+r[n][1],a=a.substring(0,a.length-s),t=t.substring(0,t.length-s))),n-=e+i,r.splice(n,e+i),t.length&&(r.splice(n,0,new f.Diff(m,t)),n++),a.length&&(r.splice(n,0,new f.Diff(p,a)),n++),n++):n!==0&&r[n-1][0]==_?(r[n-1][1]+=r[n][1],r.splice(n,1)):n++,i=0,e=0,t="",a="";break}r[r.length-1][1]===""&&r.pop();var l=!1;for(n=1;n<r.length-1;)r[n-1][0]==_&&r[n+1][0]==_&&(r[n][1].substring(r[n][1].length-r[n-1][1].length)==r[n-1][1]?(r[n][1]=r[n-1][1]+r[n][1].substring(0,r[n][1].length-r[n-1][1].length),r[n+1][1]=r[n-1][1]+r[n+1][1],r.splice(n-1,1),l=!0):r[n][1].substring(0,r[n+1][1].length)==r[n+1][1]&&(r[n-1][1]+=r[n+1][1],r[n][1]=r[n][1].substring(r[n+1][1].length)+r[n+1][1],r.splice(n+1,1),l=!0)),n++;l&&this.diff_cleanupMerge(r)},f.prototype.diff_xIndex=function(r,n){var e=0,i=0,t=0,a=0,s;for(s=0;s<r.length&&(r[s][0]!==p&&(e+=r[s][1].length),r[s][0]!==m&&(i+=r[s][1].length),!(e>n));s++)t=e,a=i;return r.length!=s&&r[s][0]===m?a:a+(n-t)},f.prototype.diff_prettyHtml=function(r){for(var n=[],e=/&/g,i=/</g,t=/>/g,a=/\n/g,s=0;s<r.length;s++){var l=r[s][0],h=r[s][1],g=h.replace(e,"&amp;").replace(i,"&lt;").replace(t,"&gt;").replace(a,"&para;<br>");switch(l){case p:n[s]='<ins style="background:#e6ffe6;">'+g+"</ins>";break;case m:n[s]='<del style="background:#ffe6e6;">'+g+"</del>";break;case _:n[s]="<span>"+g+"</span>";break}}return n.join("")},f.prototype.diff_text1=function(r){for(var n=[],e=0;e<r.length;e++)r[e][0]!==p&&(n[e]=r[e][1]);return n.join("")},f.prototype.diff_text2=function(r){for(var n=[],e=0;e<r.length;e++)r[e][0]!==m&&(n[e]=r[e][1]);return n.join("")},f.prototype.diff_levenshtein=function(r){for(var n=0,e=0,i=0,t=0;t<r.length;t++){var a=r[t][0],s=r[t][1];switch(a){case p:e+=s.length;break;case m:i+=s.length;break;case _:n+=Math.max(e,i),e=0,i=0;break}}return n+=Math.max(e,i),n},f.prototype.diff_toDelta=function(r){for(var n=[],e=0;e<r.length;e++)switch(r[e][0]){case p:n[e]="+"+encodeURI(r[e][1]);break;case m:n[e]="-"+r[e][1].length;break;case _:n[e]="="+r[e][1].length;break}return n.join("	").replace(/%20/g," ")},f.prototype.diff_fromDelta=function(r,n){for(var e=[],i=0,t=0,a=n.split(/\t/g),s=0;s<a.length;s++){var l=a[s].substring(1);switch(a[s].charAt(0)){case"+":try{e[i++]=new f.Diff(p,decodeURI(l))}catch{throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var h=parseInt(l,10);if(isNaN(h)||h<0)throw new Error("Invalid number in diff_fromDelta: "+l);var g=r.substring(t,t+=h);a[s].charAt(0)=="="?e[i++]=new f.Diff(_,g):e[i++]=new f.Diff(m,g);break;default:if(a[s])throw new Error("Invalid diff operation in diff_fromDelta: "+a[s])}}if(t!=r.length)throw new Error("Delta length ("+t+") does not equal source text length ("+r.length+").");return e},f.prototype.match_main=function(r,n,e){if(r==null||n==null||e==null)throw new Error("Null input. (match_main)");return e=Math.max(0,Math.min(e,r.length)),r==n?0:r.length?r.substring(e,e+n.length)==n?e:this.match_bitap_(r,n,e):-1},f.prototype.match_bitap_=function(r,n,e){if(n.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var i=this.match_alphabet_(n),t=this;function a(A,E){var P=A/n.length,y=Math.abs(e-E);return t.Match_Distance?P+y/t.Match_Distance:y?1:P}var s=this.Match_Threshold,l=r.indexOf(n,e);l!=-1&&(s=Math.min(a(0,l),s),l=r.lastIndexOf(n,e+n.length),l!=-1&&(s=Math.min(a(0,l),s)));var h=1<<n.length-1;l=-1;for(var g,u,o=n.length+r.length,v,c=0;c<n.length;c++){for(g=0,u=o;g<u;)a(c,e+u)<=s?g=u:o=u,u=Math.floor((o-g)/2+g);o=u;var b=Math.max(1,e-u+1),M=Math.min(e+u,r.length)+n.length,k=Array(M+2);k[M+1]=(1<<c)-1;for(var w=M;w>=b;w--){var D=i[r.charAt(w-1)];if(c===0?k[w]=(k[w+1]<<1|1)&D:k[w]=(k[w+1]<<1|1)&D|((v[w+1]|v[w])<<1|1)|v[w+1],k[w]&h){var d=a(c,w-1);if(d<=s)if(s=d,l=w-1,l>e)b=Math.max(1,2*e-l);else break}}if(a(c+1,e)>s)break;v=k}return l},f.prototype.match_alphabet_=function(r){for(var n={},e=0;e<r.length;e++)n[r.charAt(e)]=0;for(var e=0;e<r.length;e++)n[r.charAt(e)]|=1<<r.length-e-1;return n},f.prototype.patch_addContext_=function(r,n){if(n.length!=0){if(r.start2===null)throw Error("patch not initialized");for(var e=n.substring(r.start2,r.start2+r.length1),i=0;n.indexOf(e)!=n.lastIndexOf(e)&&e.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,e=n.substring(r.start2-i,r.start2+r.length1+i);i+=this.Patch_Margin;var t=n.substring(r.start2-i,r.start2);t&&r.diffs.unshift(new f.Diff(_,t));var a=n.substring(r.start2+r.length1,r.start2+r.length1+i);a&&r.diffs.push(new f.Diff(_,a)),r.start1-=t.length,r.start2-=t.length,r.length1+=t.length+a.length,r.length2+=t.length+a.length}},f.prototype.patch_make=function(r,n,e){var i,t;if(typeof r=="string"&&typeof n=="string"&&typeof e>"u")i=r,t=this.diff_main(i,n,!0),t.length>2&&(this.diff_cleanupSemantic(t),this.diff_cleanupEfficiency(t));else if(r&&typeof r=="object"&&typeof n>"u"&&typeof e>"u")t=r,i=this.diff_text1(t);else if(typeof r=="string"&&n&&typeof n=="object"&&typeof e>"u")i=r,t=n;else if(typeof r=="string"&&typeof n=="string"&&e&&typeof e=="object")i=r,t=e;else throw new Error("Unknown call format to patch_make.");if(t.length===0)return[];for(var a=[],s=new f.patch_obj,l=0,h=0,g=0,u=i,o=i,v=0;v<t.length;v++){var c=t[v][0],b=t[v][1];switch(!l&&c!==_&&(s.start1=h,s.start2=g),c){case p:s.diffs[l++]=t[v],s.length2+=b.length,o=o.substring(0,g)+b+o.substring(g);break;case m:s.length1+=b.length,s.diffs[l++]=t[v],o=o.substring(0,g)+o.substring(g+b.length);break;case _:b.length<=2*this.Patch_Margin&&l&&t.length!=v+1?(s.diffs[l++]=t[v],s.length1+=b.length,s.length2+=b.length):b.length>=2*this.Patch_Margin&&l&&(this.patch_addContext_(s,u),a.push(s),s=new f.patch_obj,l=0,u=o,h=g);break}c!==p&&(h+=b.length),c!==m&&(g+=b.length)}return l&&(this.patch_addContext_(s,u),a.push(s)),a},f.prototype.patch_deepCopy=function(r){for(var n=[],e=0;e<r.length;e++){var i=r[e],t=new f.patch_obj;t.diffs=[];for(var a=0;a<i.diffs.length;a++)t.diffs[a]=new f.Diff(i.diffs[a][0],i.diffs[a][1]);t.start1=i.start1,t.start2=i.start2,t.length1=i.length1,t.length2=i.length2,n[e]=t}return n},f.prototype.patch_apply=function(r,n){if(r.length==0)return[n,[]];r=this.patch_deepCopy(r);var e=this.patch_addPadding(r);n=e+n+e,this.patch_splitMax(r);for(var i=0,t=[],a=0;a<r.length;a++){var s=r[a].start2+i,l=this.diff_text1(r[a].diffs),h,g=-1;if(l.length>this.Match_MaxBits?(h=this.match_main(n,l.substring(0,this.Match_MaxBits),s),h!=-1&&(g=this.match_main(n,l.substring(l.length-this.Match_MaxBits),s+l.length-this.Match_MaxBits),(g==-1||h>=g)&&(h=-1))):h=this.match_main(n,l,s),h==-1)t[a]=!1,i-=r[a].length2-r[a].length1;else{t[a]=!0,i=h-s;var u;if(g==-1?u=n.substring(h,h+l.length):u=n.substring(h,g+this.Match_MaxBits),l==u)n=n.substring(0,h)+this.diff_text2(r[a].diffs)+n.substring(h+l.length);else{var o=this.diff_main(l,u,!1);if(l.length>this.Match_MaxBits&&this.diff_levenshtein(o)/l.length>this.Patch_DeleteThreshold)t[a]=!1;else{this.diff_cleanupSemanticLossless(o);for(var v=0,c,b=0;b<r[a].diffs.length;b++){var M=r[a].diffs[b];M[0]!==_&&(c=this.diff_xIndex(o,v)),M[0]===p?n=n.substring(0,h+c)+M[1]+n.substring(h+c):M[0]===m&&(n=n.substring(0,h+c)+n.substring(h+this.diff_xIndex(o,v+M[1].length))),M[0]!==m&&(v+=M[1].length)}}}}}return n=n.substring(e.length,n.length-e.length),[n,t]},f.prototype.patch_addPadding=function(r){for(var n=this.Patch_Margin,e="",i=1;i<=n;i++)e+=String.fromCharCode(i);for(var i=0;i<r.length;i++)r[i].start1+=n,r[i].start2+=n;var t=r[0],a=t.diffs;if(a.length==0||a[0][0]!=_)a.unshift(new f.Diff(_,e)),t.start1-=n,t.start2-=n,t.length1+=n,t.length2+=n;else if(n>a[0][1].length){var s=n-a[0][1].length;a[0][1]=e.substring(a[0][1].length)+a[0][1],t.start1-=s,t.start2-=s,t.length1+=s,t.length2+=s}if(t=r[r.length-1],a=t.diffs,a.length==0||a[a.length-1][0]!=_)a.push(new f.Diff(_,e)),t.length1+=n,t.length2+=n;else if(n>a[a.length-1][1].length){var s=n-a[a.length-1][1].length;a[a.length-1][1]+=e.substring(0,s),t.length1+=s,t.length2+=s}return e},f.prototype.patch_splitMax=function(r){for(var n=this.Match_MaxBits,e=0;e<r.length;e++)if(!(r[e].length1<=n)){var i=r[e];r.splice(e--,1);for(var t=i.start1,a=i.start2,s="";i.diffs.length!==0;){var l=new f.patch_obj,h=!0;for(l.start1=t-s.length,l.start2=a-s.length,s!==""&&(l.length1=l.length2=s.length,l.diffs.push(new f.Diff(_,s)));i.diffs.length!==0&&l.length1<n-this.Patch_Margin;){var g=i.diffs[0][0],u=i.diffs[0][1];g===p?(l.length2+=u.length,a+=u.length,l.diffs.push(i.diffs.shift()),h=!1):g===m&&l.diffs.length==1&&l.diffs[0][0]==_&&u.length>2*n?(l.length1+=u.length,t+=u.length,h=!1,l.diffs.push(new f.Diff(g,u)),i.diffs.shift()):(u=u.substring(0,n-l.length1-this.Patch_Margin),l.length1+=u.length,t+=u.length,g===_?(l.length2+=u.length,a+=u.length):h=!1,l.diffs.push(new f.Diff(g,u)),u==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(u.length))}s=this.diff_text2(l.diffs),s=s.substring(s.length-this.Patch_Margin);var o=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);o!==""&&(l.length1+=o.length,l.length2+=o.length,l.diffs.length!==0&&l.diffs[l.diffs.length-1][0]===_?l.diffs[l.diffs.length-1][1]+=o:l.diffs.push(new f.Diff(_,o))),h||r.splice(++e,0,l)}}},f.prototype.patch_toText=function(r){for(var n=[],e=0;e<r.length;e++)n[e]=r[e];return n.join("")},f.prototype.patch_fromText=function(r){var n=[];if(!r)return n;for(var e=r.split(`
`),i=0,t=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<e.length;){var a=e[i].match(t);if(!a)throw new Error("Invalid patch string: "+e[i]);var s=new f.patch_obj;for(n.push(s),s.start1=parseInt(a[1],10),a[2]===""?(s.start1--,s.length1=1):a[2]=="0"?s.length1=0:(s.start1--,s.length1=parseInt(a[2],10)),s.start2=parseInt(a[3],10),a[4]===""?(s.start2--,s.length2=1):a[4]=="0"?s.length2=0:(s.start2--,s.length2=parseInt(a[4],10)),i++;i<e.length;){var l=e[i].charAt(0);try{var h=decodeURI(e[i].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+h)}if(l=="-")s.diffs.push(new f.Diff(m,h));else if(l=="+")s.diffs.push(new f.Diff(p,h));else if(l==" ")s.diffs.push(new f.Diff(_,h));else{if(l=="@")break;if(l!=="")throw new Error('Invalid patch mode "'+l+'" in: '+h)}i++}}return n},f.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},f.patch_obj.prototype.toString=function(){var r,n;this.length1===0?r=this.start1+",0":this.length1==1?r=this.start1+1:r=this.start1+1+","+this.length1,this.length2===0?n=this.start2+",0":this.length2==1?n=this.start2+1:n=this.start2+1+","+this.length2;for(var e=["@@ -"+r+" +"+n+` @@
`],i,t=0;t<this.diffs.length;t++){switch(this.diffs[t][0]){case p:i="+";break;case m:i="-";break;case _:i=" ";break}e[t+1]=i+encodeURI(this.diffs[t][1])+`
`}return e.join("").replace(/%20/g," ")},R.exports=f,R.exports.diff_match_patch=f,R.exports.DIFF_DELETE=m,R.exports.DIFF_INSERT=p,R.exports.DIFF_EQUAL=_}(B)),B.exports}var Y=X();const Z={class:"max-w-5xl mx-auto p-6 space-y-8"},G={class:"block font-medium mb-1 capitalize"},W=["onUpdate:modelValue"],q={class:"bg-gray-50 border p-2 rounded"},x=["innerHTML"],ir={__name:"[slug]",async setup(R){var s,l,h;let f,m;const p=new Y.DiffMatchPatch,r=U().params.slug,{data:n}=([f,m]=H(()=>K(`/api/admin/load-educational?slug=${r}`,"$4lP3UhSaRY")),f=await f,m(),f),e={explain:((s=n.value)==null?void 0:s.explain)||"",learn:((l=n.value)==null?void 0:l.learn)||"",challenge:((h=n.value)==null?void 0:h.challenge)||""},i=F({...e}),t=F({explain:"",learn:"",challenge:""});$(i,()=>{for(const g of["explain","learn","challenge"]){const u=p.diff_main(e[g],i[g]);p.diff_cleanupSemantic(u),t[g]=p.diff_prettyHtml(u)}},{deep:!0,immediate:!0});const a=async()=>{await $fetch("/api/admin/save-educational",{method:"POST",body:{slug:r,...i}}),alert("✅ Content saved.")};return(g,u)=>(N(),L("div",Z,[u[1]||(u[1]=T("h1",{class:"text-2xl font-semibold"},"📝 Edit Educational Sections",-1)),(N(),L(z,null,V(["explain","learn","challenge"],o=>T("div",{key:o},[T("label",G,j(o),1),Q(T("textarea",{"onUpdate:modelValue":v=>C(i)[o]=v,rows:"6",class:"w-full p-2 border rounded mb-2"},null,8,W),[[J,C(i)[o]]]),T("details",q,[u[0]||(u[0]=T("summary",{class:"cursor-pointer text-sm text-blue-600"},"🧾 Show changes",-1)),T("div",{class:"prose mt-2",innerHTML:C(t)[o]},null,8,x)])])),64)),T("button",{class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",onClick:a}," 💾 Save & Commit ")]))}};export{ir as default};
